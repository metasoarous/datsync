{"version":3,"file":"\/home\/bamarco\/dev\/datsync\/out\/posh\/lib\/pull_analyze.js","sources":["pull_analyze.cljc"],"lineCount":268,"mappings":";AAAA;;;;AAIA,8CAAA,9CAAMA,oGAAiBC;AAAvB,AACE,0FAAA,nFAACC,yBAAE,AAACC,0BAAM,AAACC,yBAAKH;;AAElB,uCAAA,vCAAMI,sFAAgBJ;AAAtB,AACE,GAAM,mFAAA,nFAACC,yBAAE,AAACC,0BAAM,AAACC,yBAAKH;AAAtB,AACE,OAACK,4BAAQ,8HAAA,jFAAK,AAACC,8BAAUN,oGAAU,AAACO,2BAAOC,cAAI,AAACC,yBAAK,AAACN,yBAAKH;;AAD7D;;;AAGF,sCAAA,tCAAMU,oFAAeC;AAArB,AACE,GAAI,AAACC,wBAAI,yBAAA,iFAAA,uDAAA,jKAACC,0OAAkBF;AAC1B,gCAAA,zBAACG,8EAAYH;;AACbA;;;AAEJ,oCAAA,pCAAMI,gFAAaC;AAAnB,AACE,GACC,AAACC,+BAAKD;AAAc,OAACE,2BAAO,AAACC,yBAAKH,cACN,AAACI,wBAAIL,kCAAY,AAACM,yBAAKL;;AAFpD,GAIC,AAACM,kCAAQN;AACT,+BACK,wBAAA,WAAAO,nCAACH,xBACDK;AADA,AAAM,GAAI,gCAAAF,hCAACC;AAAS,mDAAAD,5CAACR;;AAAfQ;;GADN,AAACb,8CAAcM;;AALrB,AASOA;;;;;AAET,6CAAA,7CAAMU,kGAAsBC,QAAQC,GAAGZ,aAAaa;AAApD,AACE,OAACF,kBAAQC,GAAG,AAACb,4CAAYC,cAAca;;AAEzC,4CAAA,5CAAMC,gGAAenB;AAArB,AACE,IAAAoB,qBAAK,AAACd,+BAAKN;AAAX,AAAA,GAAAoB;AAAc,OAAA,mFAAQpB;;AAAtBoB;;;AAEF,6CAAA,7CAAMC,kGAAgBrB;AAAtB,AACE,IAAAoB,qBAAK,AAACT,kCAAQX;AAAd,AAAA,GAAAoB;AAAiB,OAACD,oDAAc,AAAC5B,0BAAMS;;AAAvCoB;;;AAEF,mCAAA,nCAAME,8EAAMC,OAAOlC;AAAnB,AACE,gKAAA,zJAACC,yBAAE,6DAAA,7DAACkC,wBAAI,AAACA,wBAAID,OAAOlC;;AAGtB,+CAAA,\/CAAMoC,sGAAkBF,OAAOlC;AAA\/B,AACE,IAAAqC,qBAAa,AAACF,wBAAID,OAAOlC;AAAzB,AAAA,oBAAAqC;AAAA,AAAA,QAAAA,JAAWC;AAAX,AACE,SAAK,gIAAA,hIAACrC,yBAAE,AAAA,oGAAiBqC;;AAD3B;;;AAGF,gDAAA,hDAAMC,wGAAmBL,OAAOlC;AAAhC,AACE,IAAAqC,qBAAa,AAACF,wBAAID,OAAOlC;AAAzB,AAAA,oBAAAqC;AAAA,AAAA,QAAAA,JAAWC;AAAX,AACE,uIAAA,hIAACrC,yBAAE,AAAA,oGAAiBqC;;AADtB;;;AAGF,+CAAA,\/CAAME,sGAAwBN,OAAOO,UAAUC;AAA\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","names":["posh.lib.pull-analyze\/reverse-lookup?","attr","cljs.core\/=","cljs.core\/first","cljs.core\/name","posh.lib.pull-analyze\/reverse-lookup","cljs.core\/keyword","cljs.core\/namespace","cljs.core\/reduce","cljs.core\/str","cljs.core\/rest","posh.lib.pull-analyze\/dbid-into-vec","v","cljs.core\/not","cljs.core\/some","cljs.core\/cons","posh.lib.pull-analyze\/insert-dbid","pull-pattern","cljs.core\/map?","cljs.core\/zipmap","cljs.core\/keys","cljs.core\/map","cljs.core\/vals","cljs.core\/vector?","p1__39514#","cljs.core\/coll?","cljs.core\/vec","posh.lib.pull-analyze\/pull-affected-datoms","pull-fn","db","eid","posh.lib.pull-analyze\/pull-ref-one?","and__10207__auto__","posh.lib.pull-analyze\/pull-ref-many?","posh.lib.pull-analyze\/ref?","schema","cljs.core\/get","posh.lib.pull-analyze\/cardinality-one?","temp__6738__auto__","e","posh.lib.pull-analyze\/cardinality-many?","posh.lib.pull-analyze\/tx-datoms-for-pull-map","entity-id","pull-map","cljs.core\/empty?","vec__39521","cljs.core\/nth","k","r?","cljs.core\/concat","or__10219__auto__","p1__39515#","cljs.core\/mapcat","cljs.core\/PersistentVector","p1__39516#","cljs.core\/merge","p1__39517#","posh.lib.pull-analyze\/generate-affected-tx-datoms-for-pull","affected-pull","posh.lib.pull-analyze\/limit-spec?","x","cljs.core\/seq?","posh.lib.pull-analyze\/limit-attr","limit-spec","cljs.core\/second","posh.lib.pull-analyze\/remove-limits","cljs.core\/partial","clojure.walk\/postwalk","posh.lib.pull-analyze\/recursive-val?","posh.lib.pull-analyze\/tx-pattern-for-pull","refs-only?","entity-keys","p1__39524#","cljs.core\/remove","val-keys","p1__39525#","ref-keys","cljs.core\/set","starred?","pull-maps","cljs.core\/filter","p__39532","vec__39533","ref-key","ref-pull","unrev-key","p1__39526#","p1__39527#","p__39536","map__39539","cljs.core\/PROTOCOL_SENTINEL","cljs.core\/apply","cljs.core\/hash-map","posh.lib.pull-analyze\/pull-analyze","dcfg","retrieve","db-id","ent-id","cljs.core\/seq","affected-datoms","datoms","posh.lib.util\/t-for-datoms","prepped-pull-pattern","posh.lib.datom-matcher\/reduce-patterns","p__39544","map__39547","posh.lib.pull-analyze\/pull-many-analyze","ent-ids","resolved-ent-ids","p1__39541#","p1__39542#","patterns","p1__39543#","cljs.core\/ffirst"]}